var data = {"Data": [{"Id": 85, "IdStatus": 1, "Notifies": [], "StationName": "Biblioteca Centrala", "EmptySpots": 13, "OcuppiedSpots": 6, "IsValid": true, "MaximumNumberOfBikes": 19, "Longitude": 23.615109, "StatusType": "Online", "CustomIsValid": false, "Address": "Biblioteca Jude\u021bean\u0103 Octavian Goga", "Status": "Functional", "Latitude": 46.777037, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 86, "IdStatus": 1, "Notifies": [], "StationName": "Piata Detunata", "EmptySpots": 13, "OcuppiedSpots": 7, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.629864, "StatusType": "Online", "CustomIsValid": false, "Address": "Piata Detunata\r\n", "Status": "Functional", "Latitude": 46.767918, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 87, "IdStatus": 4, "Notifies": [], "StationName": "Calea Floresti", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.545946, "StatusType": "Offline", "CustomIsValid": false, "Address": "Calea Floresti", "Status": "Inactive", "Latitude": 46.75762, "LastSyncDate": "04/09/2016 00:58"}, {"Id": 89, "IdStatus": 1, "Notifies": [], "StationName": "Piata Abator", "EmptySpots": 13, "OcuppiedSpots": 7, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.595671, "StatusType": "Online", "CustomIsValid": false, "Address": "Piata Abator", "Status": "Functional", "Latitude": 46.779954, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 90, "IdStatus": 4, "Notifies": [], "StationName": "Taietura Turcului", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.561371, "StatusType": "Offline", "CustomIsValid": false, "Address": "Taietura Turcului", "Status": "Inactive", "Latitude": 46.77678, "LastSyncDate": "04/09/2016 00:54"}, {"Id": 91, "IdStatus": 1, "Notifies": [], "StationName": "Str Miraslau", "EmptySpots": 5, "OcuppiedSpots": 10, "IsValid": true, "MaximumNumberOfBikes": 15, "Longitude": 23.550334, "StatusType": "Online", "CustomIsValid": false, "Address": "Str Miraslau", "Status": "Functional", "Latitude": 46.766268, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 92, "IdStatus": 1, "Notifies": [], "StationName": "Emil Isac", "EmptySpots": 17, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 17, "Longitude": 0.0, "StatusType": "Offline", "CustomIsValid": false, "Address": "Emil Isac", "Status": "Functional", "Latitude": 0.0, "LastSyncDate": "01/01/2013 00:00"}, {"Id": 93, "IdStatus": 1, "Notifies": [], "StationName": "B-Dul Muncii", "EmptySpots": 7, "OcuppiedSpots": 13, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.636194, "StatusType": "Online", "CustomIsValid": false, "Address": "B-Dul Muncii - La Fabory", "Status": "Functional", "Latitude": 46.795884, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 94, "IdStatus": 1, "Notifies": [], "StationName": "Aurel Vlaicu", "EmptySpots": 13, "OcuppiedSpots": 4, "IsValid": true, "MaximumNumberOfBikes": 17, "Longitude": 23.615914, "StatusType": "Online", "CustomIsValid": false, "Address": "Aurel Vlaicu - l\u00e2ng\u0103 CEC ( l\u00e2ng\u0103 Vam\u0103 )", "Status": "Functional", "Latitude": 46.778815, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 95, "IdStatus": 1, "Notifies": [], "StationName": "Floresti Taiut", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.502312, "StatusType": "Offline", "CustomIsValid": false, "Address": "Floresti Taiut, str. Taiut", "Status": "Functional", "Latitude": 46.742789, "LastSyncDate": "08/04/2015 17:28"}, {"Id": 96, "IdStatus": 1, "Notifies": [], "StationName": "Piata 14 iulie", "EmptySpots": 14, "OcuppiedSpots": 6, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.567052, "StatusType": "Online", "CustomIsValid": false, "Address": "Piata 14 iulie - la restaurant\r\n", "Status": "Functional", "Latitude": 46.770733, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 97, "IdStatus": 1, "Notifies": [], "StationName": "Apahida", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.743112, "StatusType": "Offline", "CustomIsValid": false, "Address": "Apahida - La Motel Victoria", "Status": "Functional", "Latitude": 46.7923, "LastSyncDate": "08/03/2015 14:51"}, {"Id": 98, "IdStatus": 4, "Notifies": [], "StationName": "Observatorului LDL", "EmptySpots": 18, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 18, "Longitude": 23.594869, "StatusType": "Offline", "CustomIsValid": false, "Address": "Observatorului, la LDL", "Status": "Inactive", "Latitude": 46.755642, "LastSyncDate": "04/09/2016 00:57"}, {"Id": 99, "IdStatus": 1, "Notifies": [], "StationName": "Str Fabricii de zahar", "EmptySpots": 13, "OcuppiedSpots": 5, "IsValid": true, "MaximumNumberOfBikes": 18, "Longitude": 23.621839, "StatusType": "Online", "CustomIsValid": false, "Address": "Str Fabricii de zahar, la camin", "Status": "Functional", "Latitude": 46.782735, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 100, "IdStatus": 1, "Notifies": [], "StationName": "Stefan cel Mare", "EmptySpots": 6, "OcuppiedSpots": 12, "IsValid": true, "MaximumNumberOfBikes": 18, "Longitude": 23.597431, "StatusType": "Online", "CustomIsValid": false, "Address": "Stefan cel Mare, la opera, in parc", "Status": "Functional", "Latitude": 46.769608, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 101, "IdStatus": 1, "Notifies": [], "StationName": "Floresti/Somesului", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.497829, "StatusType": "Offline", "CustomIsValid": false, "Address": "Floresti/Somesului, langa stadion", "Status": "Functional", "Latitude": 46.7474, "LastSyncDate": "08/26/2015 14:47"}, {"Id": 102, "IdStatus": 1, "Notifies": [], "StationName": "Str Islazului", "EmptySpots": 11, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 11, "Longitude": 23.557079, "StatusType": "Online", "CustomIsValid": false, "Address": "Str Islazului intersectie cu Primaverii", "Status": "Functional", "Latitude": 46.755111, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 103, "IdStatus": 1, "Notifies": [], "StationName": "Str Horea(roth)", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.587104, "StatusType": "Offline", "CustomIsValid": false, "Address": "Str Horea(roth)", "Status": "Functional", "Latitude": 46.775865, "LastSyncDate": "03/04/2016 07:23"}, {"Id": 104, "IdStatus": 1, "Notifies": [], "StationName": "Apahida 2", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.704142, "StatusType": "Offline", "CustomIsValid": false, "Address": "Apahida 2 - Piata Agrotransilvania", "Status": "Functional", "Latitude": 46.780511, "LastSyncDate": "08/03/2015 15:16"}, {"Id": 105, "IdStatus": 1, "Notifies": [], "StationName": "Floresti", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.534431, "StatusType": "Offline", "CustomIsValid": false, "Address": "Floresti - La  polus center", "Status": "Functional", "Latitude": 46.753985, "LastSyncDate": "08/06/2015 15:43"}, {"Id": 106, "IdStatus": 1, "Notifies": [], "StationName": "Iuliu Hossu", "EmptySpots": 14, "OcuppiedSpots": 3, "IsValid": true, "MaximumNumberOfBikes": 17, "Longitude": 23.582917, "StatusType": "Online", "CustomIsValid": false, "Address": "Iuliu Hossu - in parc", "Status": "Functional", "Latitude": 46.769608, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 107, "IdStatus": 1, "Notifies": [], "StationName": "Constantin Brancusi", "EmptySpots": 10, "OcuppiedSpots": 9, "IsValid": true, "MaximumNumberOfBikes": 19, "Longitude": 23.601352, "StatusType": "Online", "CustomIsValid": false, "Address": "Constantin Brancusi", "Status": "Functional", "Latitude": 46.767507, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 108, "IdStatus": 1, "Notifies": [], "StationName": "Piata Ion Agarbiceanu", "EmptySpots": 13, "OcuppiedSpots": 7, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.606223, "StatusType": "Online", "CustomIsValid": false, "Address": "Piata Ion Agarbiceanu, la taxi", "Status": "Functional", "Latitude": 46.762024, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 109, "IdStatus": 1, "Notifies": [], "StationName": "Observatorului", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.57755, "StatusType": "Offline", "CustomIsValid": false, "Address": "Observatorului, in statia de autobuz", "Status": "Functional", "Latitude": 46.75259, "LastSyncDate": "07/30/2015 17:28"}, {"Id": 110, "IdStatus": 4, "Notifies": [], "StationName": "Calea Motilor", "EmptySpots": 13, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 13, "Longitude": 23.574624, "StatusType": "Offline", "CustomIsValid": false, "Address": "Calea Motilor", "Status": "Inactive", "Latitude": 46.764446, "LastSyncDate": "07/15/2015 20:38"}, {"Id": 111, "IdStatus": 1, "Notifies": [], "StationName": "Babes B", "EmptySpots": 11, "OcuppiedSpots": 8, "IsValid": true, "MaximumNumberOfBikes": 19, "Longitude": 23.591146, "StatusType": "Online", "CustomIsValid": false, "Address": "Babes B", "Status": "Functional", "Latitude": 46.767485, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 112, "IdStatus": 1, "Notifies": [], "StationName": "Kogalniceanu", "EmptySpots": 13, "OcuppiedSpots": 7, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.594083, "StatusType": "Online", "CustomIsValid": false, "Address": "Kogalniceanu", "Status": "Functional", "Latitude": 46.767837, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 113, "IdStatus": 4, "Notifies": [], "StationName": "Independentei", "EmptySpots": 18, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 18, "Longitude": 23.567645, "StatusType": "Offline", "CustomIsValid": false, "Address": "Independentei", "Status": "Inactive", "Latitude": 46.767023, "LastSyncDate": "04/10/2016 15:45"}, {"Id": 114, "IdStatus": 1, "Notifies": [], "StationName": "Str Horea", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.588062, "StatusType": "Offline", "CustomIsValid": false, "Address": "Str Horea", "Status": "Functional", "Latitude": 46.774025, "LastSyncDate": "08/26/2015 13:08"}, {"Id": 115, "IdStatus": 1, "Notifies": [], "StationName": "Titulescu", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.617327, "StatusType": "Offline", "CustomIsValid": false, "Address": "Str Titulescu, langa biserica", "Status": "Functional", "Latitude": 46.769232, "LastSyncDate": "02/22/2016 12:42"}, {"Id": 116, "IdStatus": 1, "Notifies": [], "StationName": "Apahida (la primarie)", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.752302, "StatusType": "Offline", "CustomIsValid": false, "Address": "Apahida (la primarie)", "Status": "Functional", "Latitude": 46.804635, "LastSyncDate": "11/25/2015 12:08"}, {"Id": 117, "IdStatus": 1, "Notifies": [], "StationName": "Floresti Primarie", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.485727, "StatusType": "Offline", "CustomIsValid": false, "Address": "Floresti - La Primarie", "Status": "Functional", "Latitude": 46.742305, "LastSyncDate": "08/04/2015 16:43"}, {"Id": 118, "IdStatus": 1, "Notifies": [], "StationName": "Hasdeu", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.578261, "StatusType": "Offline", "CustomIsValid": false, "Address": "Str. Hasdeu", "Status": "Functional", "Latitude": 46.7628, "LastSyncDate": "01/01/2013 00:00"}, {"Id": 119, "IdStatus": 1, "Notifies": [], "StationName": "21 decembrie BRD", "EmptySpots": 17, "OcuppiedSpots": 3, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.606762, "StatusType": "Online", "CustomIsValid": false, "Address": "21 decembrie 1989, la BRD", "Status": "Functional", "Latitude": 46.776449, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 120, "IdStatus": 4, "Notifies": [], "StationName": "Pasteur", "EmptySpots": 19, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 19, "Longitude": 23.583945, "StatusType": "Offline", "CustomIsValid": false, "Address": "Str Pasteur", "Status": "Inactive", "Latitude": 46.758662, "LastSyncDate": "04/09/2016 00:55"}, {"Id": 121, "IdStatus": 1, "Notifies": [], "StationName": "21 decembrie", "EmptySpots": 15, "OcuppiedSpots": 5, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.611837, "StatusType": "Online", "CustomIsValid": false, "Address": "21 decembrie 1989, vis-a-vis Piata Marasti", "Status": "Functional", "Latitude": 46.77797, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 122, "IdStatus": 4, "Notifies": [], "StationName": "Petuniei", "EmptySpots": 19, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 19, "Longitude": 23.555266, "StatusType": "Offline", "CustomIsValid": false, "Address": "Str. Petuniei", "Status": "Inactive", "Latitude": 46.76948, "LastSyncDate": "04/09/2016 01:02"}, {"Id": 123, "IdStatus": 1, "Notifies": [], "StationName": "Gutenberg", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.544476, "StatusType": "Offline", "CustomIsValid": false, "Address": "Gutenberg (Clabucet)", "Status": "Functional", "Latitude": 46.751581, "LastSyncDate": "09/25/2015 16:23"}, {"Id": 124, "IdStatus": 4, "Notifies": [], "StationName": "Horea", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.587788, "StatusType": "Offline", "CustomIsValid": false, "Address": "Horea - la Gara", "Status": "Inactive", "Latitude": 46.783973, "LastSyncDate": "04/09/2016 01:01"}, {"Id": 125, "IdStatus": 1, "Notifies": [], "StationName": "Dragalina", "EmptySpots": 10, "OcuppiedSpots": 10, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.581734, "StatusType": "Online", "CustomIsValid": false, "Address": "Str. Dragalina, la bifurcatie", "Status": "Functional", "Latitude": 46.77234, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 126, "IdStatus": 1, "Notifies": [], "StationName": "Maramuresului", "EmptySpots": 20, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 20, "Longitude": 23.583596, "StatusType": "Offline", "CustomIsValid": false, "Address": "str. Maramuresului, colt cu nicolae telcu", "Status": "Functional", "Latitude": 46.790109, "LastSyncDate": "02/17/2016 12:04"}, {"Id": 127, "IdStatus": 1, "Notifies": [], "StationName": "Ion Ratiu", "EmptySpots": 10, "OcuppiedSpots": 9, "IsValid": true, "MaximumNumberOfBikes": 19, "Longitude": 23.588016, "StatusType": "Online", "CustomIsValid": false, "Address": "Ion Ratiu (straduta mica)", "Status": "Functional", "Latitude": 46.768925, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 128, "IdStatus": 1, "Notifies": [], "StationName": "Fabricii", "EmptySpots": 10, "OcuppiedSpots": 9, "IsValid": true, "MaximumNumberOfBikes": 19, "Longitude": 23.613891, "StatusType": "Online", "CustomIsValid": false, "Address": "Fabricii  - Kaufland", "Status": "Functional", "Latitude": 46.781058, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 129, "IdStatus": 1, "Notifies": [], "StationName": "Observatorului MOL", "EmptySpots": 26, "OcuppiedSpots": 12, "IsValid": true, "MaximumNumberOfBikes": 38, "Longitude": 23.585543, "StatusType": "Online", "CustomIsValid": false, "Address": "Observatorului, la MOL", "Status": "Functional", "Latitude": 46.754602, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 130, "IdStatus": 1, "Notifies": [], "StationName": "Iulius Mall", "EmptySpots": 22, "OcuppiedSpots": 18, "IsValid": true, "MaximumNumberOfBikes": 40, "Longitude": 23.625588, "StatusType": "Online", "CustomIsValid": false, "Address": "Iulius Mall, in fata", "Status": "Functional", "Latitude": 46.771519, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 131, "IdStatus": 1, "Notifies": [], "StationName": "Splaiul Independetei", "EmptySpots": 20, "OcuppiedSpots": 16, "IsValid": true, "MaximumNumberOfBikes": 36, "Longitude": 23.567028, "StatusType": "Online", "CustomIsValid": false, "Address": "PE Splaiul Independetei, la sala sporturilor", "Status": "Functional", "Latitude": 46.766998, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 132, "IdStatus": 1, "Notifies": [], "StationName": "1 decembrie 1918", "EmptySpots": 25, "OcuppiedSpots": 15, "IsValid": true, "MaximumNumberOfBikes": 40, "Longitude": 23.545428, "StatusType": "Online", "CustomIsValid": false, "Address": "1 decembrie 1918, dupa pod, SUN", "Status": "Functional", "Latitude": 46.762822, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 133, "IdStatus": 1, "Notifies": [], "StationName": "G.Cosbuc", "EmptySpots": 7, "OcuppiedSpots": 11, "IsValid": true, "MaximumNumberOfBikes": 18, "Longitude": 23.574637, "StatusType": "Online", "CustomIsValid": false, "Address": "G.Cosbuc - La stadion", "Status": "Functional", "Latitude": 46.76862, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 134, "IdStatus": 1, "Notifies": [], "StationName": "Motilor 7", "EmptySpots": 12, "OcuppiedSpots": 6, "IsValid": true, "MaximumNumberOfBikes": 18, "Longitude": 23.584576, "StatusType": "Online", "CustomIsValid": false, "Address": "Motilor 7 - la primarie", "Status": "Functional", "Latitude": 46.768093, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 140, "IdStatus": 1, "Notifies": [], "StationName": "Statie Training 6", "EmptySpots": 2, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 2, "Longitude": 0.0, "StatusType": "Offline", "CustomIsValid": false, "Address": "obs ", "Status": "Functional", "Latitude": 0.0, "LastSyncDate": "07/23/2015 21:38"}, {"Id": 141, "IdStatus": 1, "Notifies": [], "StationName": "Piata Mihai Viteazul", "EmptySpots": 11, "OcuppiedSpots": 5, "IsValid": true, "MaximumNumberOfBikes": 16, "Longitude": 23.592638, "StatusType": "Online", "CustomIsValid": false, "Address": "Piata Mihai Viteazul", "Status": "Functional", "Latitude": 46.774363, "LastSyncDate": "04/16/2016 17:55"}, {"Id": 143, "IdStatus": 1, "Notifies": [], "StationName": "Statie Virtuala", "EmptySpots": 0, "OcuppiedSpots": 0, "IsValid": true, "MaximumNumberOfBikes": 0, "Longitude": 0.0, "StatusType": "Offline", "CustomIsValid": false, "Address": "Statie Virtuala", "Status": "Functional", "Latitude": 0.0, "LastSyncDate": "01/01/2013 00:00"}], "Total": 52, "Errors": null, "AggregateResults": null};

function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 46.769709, lng: 23.589826},
        zoom: 15
    });
    var infowindow = new google.maps.InfoWindow();
    var currentPositionImage = {
        url: 'new_blue_dot.svg',
        size: new google.maps.Size(33, 33),
        anchor: new google.maps.Point(16, 16)
    };
    var currentPositionMarker = new google.maps.Marker({
        map: map,
        icon: currentPositionImage
    });
    currentPositionMarker.addListener('click', function() {
        infowindow.setContent('Locația curentă');
        infowindow.open(map, this);
    });
    for (var i = 0; i < data['Data'].length; i++) {
        var marker = new google.maps.Marker({
            map: map,
            position: {lat: data['Data'][i]['Latitude'], lng: data['Data'][i]['Longitude']},
            title: data['Data'][i]['StationName']
        });
        marker.addListener('click', function() {
            infowindow.setContent(this.title);
            infowindow.open(map, this);
        });
    }
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
                lat: position.coords.latitude,
                lng: position.coords.longitude
            };
            currentPositionMarker.setPosition(pos);
            map.setCenter(pos);
        }, function() {
            handleLocationError(true);
        });
    } else {
        handleLocationError(false);
    }
    function handleLocationError(browserHasGeolocation) {
        alert(browserHasGeolocation ? 'Error: The Geolocation service failed.' : 'Error: Your browser doesn\'t support geolocation.');
    }
}
